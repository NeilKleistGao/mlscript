:NewDefs


:js
fun foo =
  fun bar(x) = x + 1
  bar(10)
//│ fun foo: int
//│ // Prelude
//│ let res;
//│ let typing_unit = { cache: {} };
//│ // Query 1
//│ globalThis.foo = function foo() {
//│   return ((() => {
//│     let bar = (x) => x + 1;
//│     return bar(10);
//│   })());
//│ };
//│ // End of generated code


// TODO
fun foo =
  class C(a: int) { fun bar(x) = a + x + 1 }
  C(100).bar(10)
//│ fun foo: int
//│ Code generation encountered an error:
//│   unsupported definitions in blocks


