:NewParser
:NewDefs



:js
mixin Foo0 {
  let foo0 = 0
}
//│ mixin Foo0() {
//│   let foo0: 0
//│ }
//│ // Prelude
//│ let res;
//│ let typing_unit = {
//│   cache: {},
//│   Foo0(base) {
//│     return (class Foo0 extends base {
//│       #foo0;
//│       get foo0() { return this.#foo0; }
//│       constructor(...rest) {
//│         super(...rest);
//│         this.#foo0 = 0;
//│         const foo0 = this.#foo0;
//│       }
//│     });
//│   }
//│ };
//│ globalThis.Foo0 = typing_unit.Foo0;
//│ // End of generated code

:js
mixin Foo1 {
  let foo0 = 1
  let foo1 = super.foo0
}
//│ mixin Foo1() {
//│   super: {foo0: 'foo0}
//│   let foo0: 1
//│   let foo1: 'foo0
//│ }
//│ // Prelude
//│ let typing_unit1 = {
//│   cache: {},
//│   Foo1(base) {
//│     return (class Foo1 extends base {
//│       #foo0;
//│       #foo1;
//│       get foo0() { return this.#foo0; }
//│       get foo1() { return this.#foo1; }
//│       constructor(...rest) {
//│         super(...rest);
//│         this.#foo0 = 1;
//│         const foo0 = this.#foo0;
//│         this.#foo1 = super.foo0;
//│         const foo1 = this.#foo1;
//│       }
//│     });
//│   }
//│ };
//│ globalThis.Foo1 = typing_unit1.Foo1;
//│ // End of generated code

module Test0 extends Foo0, Foo1
//│ module Test0() {
//│   let foo0: 1
//│   let foo1: 0
//│ }

[Test0.foo0, Test0.foo1]
//│ (1, 0,)
//│ res
//│     = [ 1, 0 ]


:ShowRepl
:js
:e
mixin Foo2 {
  fun foo2 = super
}
//│ ╔══[ERROR] Illegal use of `super`
//│ ║  l.80: 	  fun foo2 = super
//│ ╙──      	             ^^^^^
//│ mixin Foo2() {
//│   super: 'super
//│   fun foo2: 'super
//│ }
//│ // Prelude
//│ let typing_unit4 = {
//│   cache: {},
//│   Foo2(base) {
//│     return (class Foo2 extends base {
//│       constructor(...rest) {
//│         super(...rest);
//│       }
//│       get foo2() {
//│         return super;
//│       }
//│     });
//│   }
//│ };
//│ globalThis.Foo2 = typing_unit4.Foo2;
//│ // End of generated code
//│ Syntax error:
//│   'super' keyword unexpected here

:re
:js
module Test0 extends Foo2
//│ module Test0() {
//│   fun foo2: anything
//│ }
//│ // Prelude
//│ let typing_unit5 = {
//│   cache: {},
//│   get Test0() {
//│     if (this.cache.Test0 === undefined) {
//│       class Test0 extends Foo2(Object) {
//│         constructor() {
//│           super();
//│         }
//│       }
//│       this.cache.Test0 = new Test0();
//│       this.cache.Test0["class"] = Test0;
//│     }
//│     return this.cache.Test0;
//│   }
//│ };
//│ globalThis.Test0 = typing_unit5.Test0;
//│ // End of generated code
//│ Runtime error:
//│   ReferenceError: Foo2 is not defined

Test0
//│ Test0
//│ res
//│     = Test0 { class: [Function: Test0] }

Test0.foo2
//│ anything
//│ res
//│     = undefined


class Foo extends Foo0 {
  fun foo0(n) = [super.foo0, super.foo0 + n]
}
//│ class Foo() {
//│   fun foo0: int -> (0, int,)
//│ }


