:NoJS


class C[A]
//│ Defined class C

def c: C[C[int]]
//│ c: C[C[int]]

def c: 'a -> C[C['a]]
//│ c: 'a -> C[C['a]]

def c: C[C['a]] -> 'a
//│ c: C[C['a]] -> 'a

def c: C['a] as 'a
//│ c: 'a | C[C['b .. 'c] & 'a as 'c .. 'b] as 'b

def c: C[C['a]] as 'a
//│ c: 'a | (C[C['b .. 'c & 'a] .. C['c & 'a .. 'b]] as 'c) as 'b


def c: C['a]
//│ c: C['a]


class C2[A]: { a: A }
//│ Defined class C2


def mkC: 'a -> C['a]
//│ mkC: 'a -> C['a]

rec def rc = mkC(rc)
//│ rc: C['a .. 'a | 'b] as 'b



class C3[A]: { a: C3[A] }
//│ Defined class C3

def c: 'a -> C3['a]
//│ c: 'a -> ((C3['a] with {a: 'b}) as 'b)


class C4[A]: { a: C[C4[A]] }
//│ Defined class C4

// :ds
def c: 'a -> C4['a]
//│ c: 'a -> ((C4['a] with {a: C['b]}) as 'b)


class C5[A]: { a: C2[C5[A]] }
//│ Defined class C5

def c: 'a -> C5['a]
//│ c: 'a -> ((C5['a] with {a: C2['b] with {a: 'b}}) as 'b)


class C6[A]: { a: C5[C6[A]] }
//│ Defined class C6

def c: 'a -> C6['a]
//│ c: 'a -> ((C6['a] with {a: (C5['b] with {a: C2['c] with {a: 'c}}) as 'c}) as 'b)






