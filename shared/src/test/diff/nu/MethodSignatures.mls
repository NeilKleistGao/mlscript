:NewDefs


// FIXME currently type signatures are typed too early (not in the context where the other defns live)
// We need to move all the typing unit setup to lazy type info prelude
// :d
module M {
  class A
  fun a: A
  fun a = 1
}
//│ ╔══[ERROR] type identifier not found: A
//│ ║  l.9: 	  fun a: A
//│ ╙──     	         ^
//│ module M {
//│   class A
//│   fun a: error
//│ }

// FIXME similar
module M {
  class A
  fun a: this.A
  fun a = 1
}
//│ ╔══[ERROR] undeclared `this`
//│ ║  l.23: 	  fun a: this.A
//│ ╙──      	         ^^^^
//│ /!!!\ Uncaught error: java.lang.Exception: Internal Error: Program reached and unexpected state.

// FIXME similar
module M {
  class A
  fun a: M.A
  fun a = 1
}
//│ ╔══[ERROR] Module `M` is not supported yet.
//│ ║  l.34: 	  fun a: M.A
//│ ╙──      	          ^^
//│ module M {
//│   class A
//│   fun a: error
//│ }


