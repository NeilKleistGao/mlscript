:NewDefs

let id"of" = 42
fun id"fun"(x: int) = x + 1
fun id"declare"(id"if": int) = id"of" + id"if"
//│ let of: 42
//│ fun fun: (x: int,) -> int
//│ fun declare: (if: int,) -> int
//│ of
//│    = 42

id"fun"(id"of")
id"declare"(id"of")
//│ int
//│ res
//│     = 43
//│ res
//│     = 84

let id"if" = 1
id"if" + 1
//│ let if: 1
//│ int
//│ if
//│    = 1
//│ res
//│     = 2


class Foo(id"class": int) {
  fun id"mixin"(x: int) = id"class" + x
}
let foo = Foo(2)
foo.id"mixin"(3)
//│ class Foo(class: int) {
//│   fun mixin: (x: int,) -> int
//│ }
//│ let foo: Foo
//│ int
//│ foo
//│     = Foo {}
//│ res
//│     = 5

:pe
id""
//│ ╔══[PARSE ERROR] empty identifier escaped.
//│ ║  l.46: 	id""
//│ ╙──      	^^^^
//│ undefined
//│ res
//│     = undefined

:pe
id"id
//│ ╔══[LEXICAL ERROR] unfinished identifier escape
//│ ║  l.55: 	id"id
//│ ╙──      	^
//│ ╔══[PARSE ERROR] Unexpected error in expression position
//│ ║  l.55: 	id"id
//│ ╙──      	^^^^^^
//│ ╔══[PARSE ERROR] Unexpected end of input; an expression was expected here
//│ ║  l.55: 	id"id
//│ ╙──      	      ^
//│ undefined
//│ res
//│     = undefined

class id"of"
//│ class of()

:ge
class id"class"
//│ class class()
//│ Code generation encountered an error:
//│   class is a reserved keyword in ECMAScript and can not be used as type name.
