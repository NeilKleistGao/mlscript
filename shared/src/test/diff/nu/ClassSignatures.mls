:NewDefs


class Foo(): {}
//│ class Foo()

class Foo(): {} {
  fun x = 0
}
//│ class Foo() {
//│   fun x: 0
//│ }

class Foo(): { x: int } {
  fun x = 0
}
//│ class Foo(): {x: int} {
//│   fun x: 0
//│ }

class Foo(): { x: 'FigureItOut } {
  fun x = 0
}
//│ class Foo(): {x: ??FigureItOut} {
//│   fun x: 0
//│ }

:e
not(Foo().x)
//│ ╔══[ERROR] Type mismatch in application:
//│ ║  l.29: 	not(Foo().x)
//│ ║        	^^^^^^^^^^^^
//│ ╟── field selection of type `0 & ??FigureItOut` is not an instance of type `bool`
//│ ║  l.29: 	not(Foo().x)
//│ ╙──      	    ^^^^^^^
//│ bool | error
//│ res
//│     = true

(f: Foo) => f.x
//│ (f: Foo,) -> (0 & ??FigureItOut)
//│ res
//│     = [Function: res]

