# MLscript Driver

**This is a pre-release of MLscript driver.**

## Quick Start
To install MLscript driver, you can use `npm`:
```shell
npm i mlscript-driver
```

The newest version is recommended: there may be lots of bugs in the previous versions.

To watch the project directory, you can use TypeScript(recommended)/JavaScript:
```ts
import driver from "mlscript-driver"

// filename: string, workDir: string, outputDir: string, tsconfig: string, commonJS: boolean, expectTypeError: boolean
driver.watch("./mlscript/Main.mls", "./", "./js/", "./tsconfig.json", false, true)
```

The path must start with `./`, or it will be treated as `node_modules` paths.

If you need to interoperate with TypeScript, you must provide the path of `tsconfig.json` file.
Otherwise, it is optional.

You can choose to use CommonJS or ES modules(recommended).

Since Mlscript is still under development, type inferences are not fully supported.
If there is a type error but it is correct, please set the `expectTypeError` flag to `true`.
To get the type error messages, please check the corresponding `.mlsi` files in `.interfaces`.

For more details, you can check the demo [here](https://github.com/NeilKleistGao/mlscript-driver-demo).

## Project Structure
The MLscript driver uses `git` to track the file changes.
Please make sure your project locates in a git repo.

Though not necessary, we still recommend you organize the project in this structure:
- `.interfaces`: temporary interface files generated by MLscript driver.
- `mlscript`: directory for MLscript files.
- `node_modules`: third-party libraries in TypeScript.
- `ts`: directory for TypeScript files.
- configuration files: `package.json` and `tsconfig.json` should locate in the root directory.
